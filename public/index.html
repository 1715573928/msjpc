<!DOCTYPE HTML>
<html>

	<head>
		<title></title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="css/univ.css">
		<link rel="stylesheet" href="css/index.css">
	</head>

	<body>
		<div id="headerr">
			
		</div>
		<div class="bannerhear"><span>今日早餐推荐：吃不腻的早餐饼，你值得拥有</span></div>
		<div class="banner">

			<div class="banner1">
				<ul>
					<li class="zaocan">
						
					</li>
					<li class="wucan">
						
					</li>
					<li class="xiawucha">
						
					</li>
					<li class="wancan">
						
					</li>
					<li class="yexiao">
						
					</li>
					<li class="zaocan"> 
						
					</li>

				</ul>

			</div>
			<div class="arrow">
				<span class="left"></span>
				<span class="right"></span>
			</div>
		</div>
		<div id="footma">
			<div>
				<div style="margin:30px auto;text-align: center;font-size: 20px;">
					<span> 二月，阳气生发，适当春捂</span>
					<a class="gd" href="">更多食材&nbsp;&gt;</a>
				</div>
				<div class="tabs">
					<ul id="tab">
						<li>
							<a href="javascript:void(0)" data-target="content1" data-toggle="tab" class="containerhover">水果</a>
						</li>
						<li>
							<a href="javascript:void(0)" data-target="content2" data-toggle="tab">蔬菜</a>
						</li>
						<li>
							<a href="javascript:void(0)" data-target="content3" data-toggle="tab">五谷</a>
						</li>
						<li>
							<a href="javascript:void(0)" data-target="content4" data-toggle="tab">生鲜</a>
						</li>
					</ul>
					<div id="container">
						<div id="content1">
							<ul>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/yz.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">柚子</a>
										</div>
									</a>
								</li>
							</ul>

							<!--  -->
						</div>
						<div id="content2">
							<ul>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bc.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">大白菜</a>
										</div>
									</a>
								</li>
							</ul>
						</div>
						<div id="content3">
							<ul>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/bl.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">板栗</a>
										</div>
									</a>
								</li>
							</ul>
						</div>
						<div id="content4">
							<ul>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
								<li>
									<a href=""> <img src="img/nr.jpg" alt="">
										<div>
											<div class="borf fl"></div>
											<a href="javascript:void(0)">牛肉</a>
										</div>
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="bannertow">
			<div class="gd" style="line-height: 65px;position:relative;z-index:999">
				<a href="javascript:;" class="bannernow" style="color:red">最新</a>
				<a href="javascript:;" class="bannerhot">最热</a>
				<a href="">更多菜谱&gt;</a>
			</div>
			<div class="bannerpic">
				<div class="bannerpic1">
					<div class="banpic1">
						<div style="margin:30px auto;text-align: center;font-size: 20px;">最新菜谱</div>
						<div id="timecp" style="height:770px">

						</div>
					</div>
					<div class="banpic1">

						<div style="margin:30px auto;text-align: center;font-size: 20px;">最新菜谱</div>
						<div id="menudianj">
							
						</div>
					</div>
				</div>
			</div>
		</div>

		<iframe src="footer.html" frameborder="0"></iframe>
		<script src="js/jquery.min.js"></script>
		<script src="js/header.js"></script>
		<script>
			$(function() {
				var menudianj, menutime, wucan, xiawucha, yexiao, zaocan, html6;
				$.ajax({
					url: "http://localhost:3000/index",
					type: "post",
					//data: data,
					dataType: "json", //自动JSON.parse(),
					success: function(data) {
						var menudianj = data.data.menudianj;
						var menutime = data.data.menutime;
						var wucan = data.data.wucan;
						var xiawucha = data.data.xiawucha;
						var yexiao = data.data.yexiao;
						var zaocan = data.data.zaocan;
						var wancan = data.data.wancan;
						
						
						//console.log(data);
						html6 = "";
						for(var i = 0; i < zaocan.length; i++) {
							html6 += `<div class="lbt"> <a href="http://127.0.0.1:3000/detail.html?mid=${zaocan[i].mid}"><div style="height: 330px;overflow: hidden;"><img src="${zaocan[i].endp}" style="width: 330px;" alt=""></div>
							<div>
								<a href="http://127.0.0.1:3000/detail.html?mid=${zaocan[i].mid}">${zaocan[i].mtitle}</a><span>灰常好次</span></div></a>
						</div>`;
						}
						
						//console.log("1_______"+html6);
						$(".zaocan").append(html6);
						html6 = "";
						for(var i = 0; i < wucan.length; i++) {
							html6 += `<div class="lbt"> <a href="http://127.0.0.1:3000/detail.html?mid=${wucan[i].mid}"><div style="height: 330px;overflow: hidden;"><img src="${wucan[i].endp}" style="width: 330px;" alt=""></div>
							<div>
								<a href="http://127.0.0.1:3000/detail.html?mid=${wucan[i].mid}">${wucan[i].mtitle}</a><span>灰常好次</span></div></a>
						</div>`;
						}
							//console.log("2_______"+html6);
						$(".wucan").append(html6);
						html6 = "";
						for(var i = 0; i < xiawucha.length; i++) {
							html6 += `<div class="lbt"> <a href="http://127.0.0.1:3000/detail.html?mid=${xiawucha[i].mid}"><div style="height: 330px;overflow: hidden;"><img src="${xiawucha[i].endp}" style="width: 330px;" alt=""></div>
							<div>
								<a href="http://127.0.0.1:3000/detail.html?mid=${xiawucha[i].mid}">${xiawucha[i].mtitle}</a><span>灰常好次</span></div></a>
						</div>`;
						}
						//console.log("3_______"+html6);
						$(".xiawucha").append(html6);
						html6 = "";
						for(var i = 0; i < yexiao.length; i++) {
							html6 += `<div class="lbt"> <a href="http://127.0.0.1:3000/detail.html?mid=${yexiao[i].mid}"><div style="height: 330px;overflow: hidden;"><img src="${yexiao[i].endp}" style="width: 330px;" alt=""></div>
							<div>
								<a href="http://127.0.0.1:3000/detail.html?mid=${yexiao[i].mid}">${yexiao[i].mtitle}</a><span>灰常好次</span></div></a>
						</div>`;
						}
						//console.log("4_______"+html6);
						$(".yexiao").append(html6);
						html6 = "";
						for(var i = 0; i < wancan.length; i++) {
							html6 += `<div class="lbt"> <a href="http://127.0.0.1:3000/detail.html?mid=${wancan[i].mid}"><div style="height: 330px;overflow: hidden;"><img src="${wancan[i].endp}" style="width: 330px;" alt=""></div>
							<div>
								<a href="http://127.0.0.1:3000/detail.html?mid=${wancan[i].mid}">${wancan[i].mtitle}</a><span>灰常好次</span></div></a>
						</div>`;
						}
						//console.log("5_______"+html6);
						$(".wancan").append(html6);
					html6 = "";
						for(var i = 0; i < menutime.length; i++) {
							html6 += `<div class="newhot">
								<a href="http://127.0.0.1:3000/detail.html?mid=${menutime[i].mid}">
									<div style="width: 232px;height: 232px;overflow: hidden;"><img src="${menutime[i].endp}" alt="" style="width:232px"></div>
									<div class="nhtextout">
										<div class="nhtext1">
											<div class="nhtext ntup">
												<div>${menutime[i].mtitle}</div>
												<div class="gd fl"> ${menutime[i].diffculty} ${menutime[i].pnum} </div>
											</div>
											<div class="nhtext ntdown">
												<ul>
													<li class="li li1">${eval("("+menutime[i].step+")").length}步 / ${menutime[i].ctime}</li>
													<li class="li li2">${menutime[i].craft} / ${menutime[i].taste}</li>
												</ul>
											</div>
										</div>
									</div>
								</a>
							</div>`;
						}
						$("#timecp").append(html6);
						html6 = "";
						for(var i = 0; i < menudianj.length; i++) {
							html6 += `<div class="newhot">
								<a href="http://127.0.0.1:3000/detail.html?mid=${menudianj[i].mid}">
									<div style="width: 232px;height: 232px;overflow: hidden;"><img src="${menudianj[i].endp}" alt="" style="width:232px"></div>
									<div class="nhtextout">
										<div class="nhtext1">
											<div class="nhtext ntup">
												<div>${menudianj[i].mtitle}</div>
												<div class="gd fl"> ${menudianj[i].diffculty} ${menudianj[i].pnum} </div>
											</div>
											<div class="nhtext ntdown">
												<ul>
													<li class="li li1">${eval("("+menudianj[i].step+")").length}步 / ${menudianj[i].ctime}</li>
													<li class="li li2">${menudianj[i].craft} / ${menudianj[i].taste}</li>
												</ul>
											</div>
										</div>
									</div>
								</a>
							</div>`;
						}
						$("#menudianj").append(html6)
					}
				})

				var n = 10;
				$("[data-toggle=tab]").mouseover(function() {
					var tab = $(this);
					var div = "#" + tab.attr("data-target");
					n++;
					$(div).css("z-index", n);
					var openli = $("#tab>li>a.containerhover");
					openli.attr("class", "");
					tab.attr("class", "containerhover")
				})
				// 把要操作的对象先获取到
				var banner = $('.banner');
				var Left = $('.banner .left'); // alert(Left.length);
				var Right = $('.banner .right');
				var Ul = $('.banner ul'); // alert(Ul.length);
				var Width = $('.banner ul li').width(); //alert(Width);
				var Point = $('.banner ol li'); // alert(Point.length);
				var Index = 0; //用于记录点击的次数，图片的张数(计数器，记录了图片移动的张数)
				var mouv = false;
				var bannerhear = $(".bannerhear");
				var bannerharearr = ['今日早餐推荐：吃不腻的早餐饼，你值得拥有', '今日午餐推荐：别致午餐，带来新的味蕾体验', '今日下午茶推荐：从柔滑到香酥，你最爱哪种口感', '今日晚餐推荐：吃肉不怕腻，过足瘾', '今日夜宵推荐：夜深人静，美食诱惑难挡', '今日早餐推荐：吃不腻的早餐饼，你值得拥有']
				//	点击右箭头,ul往左跑
				Right.on('click', function() {

					//需要做一个判断，如果发现此时图片是最后一张图片，就不能继续执行了
					//让index是图片的张数减一的时候,让index不继续加
					if(Index >= 5) {
						//让index变成0
						Index = 0;
						//              	让ul的left值瞬间变成0
						Ul.css('left', 0);
						if(mouv == true) {
							Left.css('background-position', '0px -67px');
							Right.css('background-position', '-175px -67px');
						}
					}
					Index++;
					Ul.stop().animate({
						'left': -Index * Width
					});

					if(mouv == true) {
						Left.css('background-position', `0px ${-67 - 74 * (Index)}px`)
						Right.css('background-position', `-175px ${-67 - 74 * (Index)}px`)
					}
					bannerhear.html(bannerharearr[Index])
				})

				//点击左箭头,让Ul往右跑
				Left.on('click', function() {
					if(Index <= 0) {
						//return; 此时不应该return,应该让index变成最大的值，left也变成最大的left
						Index = 5;
						Ul.css('left', -Index * Width);
						if(mouv == true) {
							Left.css('background-position', '0px -67px');
							Right.css('background-position', '-175px -67px');
						}

					}

					Index--;
					Ul.stop().animate({
						'left': -Index * Width
					});
					if(mouv == true) {
						Left.css('background-position', `0px ${-67 - 74 * (Index)}px`)
						Right.css('background-position', `-175px ${-67 - 74 * (Index)}px`)
					};
					bannerhear.html(bannerharearr[Index])
				})

				//调取Right方法，使其自动播放
				var time = setInterval(function() {
					Right.click();

				}, 3000);

				//鼠标移到banner中,自动播放停止
				banner.mouseenter(function() {
					
					clearInterval(time);
					mouv = true;
					Left.css('background-position', `0px ${-67 - 74 * (Index)}px`)
					Right.css('background-position', `-175px ${-67 - 74 * (Index)}px`)
				});

				// 鼠标移出banner中,自动播放开始
				banner.mouseleave(function() {
					mouv = false;
					Left.css('background-position', '0px 7px')
					Right.css('background-position', '-175px 7px');
					time = setInterval(function() {
						Right.click();
					}, 3000);
				})
				var bannerpic1 = $(".bannerpic1");
				$(".bannerhot").mouseenter(function() {
					$(".bannernow").css("color", "#000");
					$(".bannerhot").css("color", "red");
					bannerpic1.stop().animate({
						'left': -1000
					})
				})
				$(".bannernow").mouseenter(function() {
					$(".bannernow").css("color", "red");
					$(".bannerhot").css("color", "#000");
					bannerpic1.stop().animate({
						'left': 0
					})
				})

			})
		</script>

	</body>

</html>